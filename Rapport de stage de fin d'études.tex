% !TeX encoding = UTF-8
\documentclass[12pt,onecolumn,openright,twoside,final]{book}
% \import are useful for preambles but for including text, \input is fine. Maybe we could use includeonly and include to fasten a bit compilation step in redaction process.
\usepackage{import}
\newcommand\directory{.}
\import{\directory/preamble/}{general.tex}

\title{Rapport de stage de fin d'Ã©tudes}
\author{\iftoggle{isReport}{%
\import{\directory/}{%
author.private.tex}}{piotr2b}%
}
\date{10 septembre 2014}

\usepackage{mdframed}

\begin{document}

\frontmatter
\dominitoc

\iftoggle{isReport}{
\import{\parts}{titlepage.private.tex}
}{}

\maketitle

\import{\parts/}{apropos.tex}

\shorttoc{Sommaire}{0}

\iftoggle{isReport}{
\import{\parts/}{introduction.private.tex}
}{
\import{\parts/}{introduction.tex}
}

\import{\parts/}{remerciements.tex}

\mainmatter
\import{\parts/}{chapters.tex}

\iftoggle{isReport}{
\import{\parts/}{conclusion.private.tex}
}{}

\appendix
\adjustmtc

\import{\parts/}{annexes.tex}

\backmatter

\import{\parts/}{glossaire.tex}

\listoffigures\addcontentsline{toc}{chapter}{Tables}
\listoftables
\tableofcontents
\end{document}